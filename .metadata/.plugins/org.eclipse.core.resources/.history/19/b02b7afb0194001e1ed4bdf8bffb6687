
#include <stdint.h>
#include <stdio.h>
#include "adc.h"
#include "systick.h"

/**
 * Bring LED to switch on/off with systick
 */

#define GPIOAEN		(1U<<0)
#define PIN5		(1U<<5)
#define LED			PIN5



int sensor_value;

// function prototypes
void gpio_init(void);

int main(void)
{
	 pa0_adc_init();
	 adc_cnvrsn();
	 gpio_init();


	while(1){
		printf("I'm in\n\r");

		sensor_value = adc_read();
		printf("sensor value: %d\n", sensor_value);
	}

}


void gpio_init(void){

	// enable clock access to GPIOA
	RCC_IOPENR |= GPIOAEN;

	// set mode of pin to output
	GPIOA_MODE_R |= (1U<<10);
	GPIOA_MODE_R &= ~(1U<<11);

}


void led_delay(void){
	GPIOA_ODR ^= LED;
	systickDelayMS(1000); // 1 second delay

}








